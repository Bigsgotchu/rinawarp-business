# RinaWarp Production Migration Suite

This suite provides complete automation for migrating, packaging, and launching all RinaWarp projects as standalone applications.

## ğŸ“¦ What's Included

### 1. `migrate-rinawarp-projects.sh`

**Main migration script** that:

- Extracts all three RinaWarp projects from the monorepo
- Cleans up workspace traces and dependencies
- Generates fresh TypeScript configurations
- Creates production-ready package.json files
- Installs dependencies and runs validation tests
- Launches each app for smoke testing
- Auto-builds .AppImage installers for Electron apps


### 2. `rinawarp-launcher.sh`

**Unified launcher script** that:

- Launches all three migrated projects simultaneously
- Handles both Electron apps and web applications
- Provides graceful fallback between AppImage and dev mode
- Shows running status and shutdown instructions


## ğŸš€ Quick Start

### Step 1: Make Scripts Executable

```bash
chmod +x ~/Documents/Rinawarp-Platforms/migrate-rinawarp-projects.sh
chmod +x ~/Documents/Rinawarp-Platforms/rinawarp-launcher.sh
```

### Step 2: Run Full Migration

```bash
./migrate-rinawarp-projects.sh
```

This will create three new directories in `~/Documents/`:

- `RinaWarp-Phone-Manager/` (Electron app with .AppImage)
- `RinaWarp-Terminal-Pro/` (Electron app with .AppImage)
- `RinaWarp-Music-Video-Creator/` (Vite web app)


### Step 3: Launch All Apps

```bash
./rinawarp-launcher.sh
```

## ğŸ“‹ Project Details

### RinaWarp Phone Manager

- **Type**: Electron Desktop App
- **Location**: `~/Documents/RinaWarp-Phone-Manager/`
- **Package**: `.AppImage` installer for Linux
- **ID**: `com.rinawarp.phone.manager`
- **Category**: Utility Software


### RinaWarp Terminal Pro

- **Type**: Electron Desktop App
- **Location**: `~/Documents/RinaWarp-Terminal-Pro/`
- **Package**: `.AppImage` installer for Linux
- **ID**: `com.rinawarp.terminal.pro`
- **Category**: Development Tools


### RinaWarp Music Video Creator

- **Type**: Vite Web Application
- **Location**: `~/Documents/RinaWarp-Music-Video-Creator/`
- **Framework**: Vite + TypeScript
- **Preview**: `http://localhost:5173`
- **Mode**: Development server with hot reload


## ğŸ”§ What the Migration Does

### For All Projects

1. **ğŸ” Source Detection**
   - Finds original project in monorepo structure
   - Validates source directory exists
   - Handles missing sources gracefully

2. **ğŸ§¹ Clean Environment**
   - Removes old node_modules, lockfiles
   - Clears build artifacts and caches
   - Resets to fresh project state

3. **âš™ï¸ Fresh Configuration**
   - Generates TypeScript config (ES2020)
   - Creates project-specific package.json
   - Sets up build scripts and dependencies

4. **ğŸ“¦ Dependency Management**
   - Installs production dependencies
   - Validates package integrity
   - Reports any warnings or issues

5. **ğŸ” Quality Validation**
   - Runs TypeScript compiler validation
   - Checks for type errors
   - Performs basic smoke testing


### For Electron Apps (Phone Manager & Terminal Pro)

6. **ğŸ§© AppImage Building**
   - Uses electron-builder for packaging
   - Creates portable Linux AppImage
   - Sets executable permissions
   - Validates package integrity

7. **ğŸ–¥ï¸ Launch Testing**
   - Brief Electron window launch
   - Validates renderer process
   - Confirms main process startup


### For Web App (Music Video Creator)

8. **ğŸŒ Vite Server**
   - Starts development preview server
   - Provides hot reload capabilities
   - Accessible at localhost:5173


## ğŸ“Š Expected Output Structure

```
~/Documents/
â”œâ”€â”€ RinaWarp-Phone-Manager/
â”‚   â”œâ”€â”€ src/                    # Original source code
â”‚   â”œâ”€â”€ dist/                   # Compiled output
â”‚   â”‚   â””â”€â”€ *.AppImage         # Portable installer
â”‚   â”œâ”€â”€ package.json           # Fresh configuration
â”‚   â”œâ”€â”€ tsconfig.json          # TypeScript setup
â”‚   â””â”€â”€ node_modules/          # Clean dependencies
â”‚
â”œâ”€â”€ RinaWarp-Terminal-Pro/
â”‚   â”œâ”€â”€ src/                    # Original source code
â”‚   â”œâ”€â”€ dist/                   # Compiled output
â”‚   â”‚   â””â”€â”€ *.AppImage         # Portable installer
â”‚   â”œâ”€â”€ package.json           # Fresh configuration
â”‚   â”œâ”€â”€ tsconfig.json          # TypeScript setup
â”‚   â””â”€â”€ node_modules/          # Clean dependencies
â”‚
â””â”€â”€ RinaWarp-Music-Video-Creator/
    â”œâ”€â”€ src/                    # Original source code
    â”œâ”€â”€ dist/                   # Built web app
    â”œâ”€â”€ package.json           # Vite configuration
    â”œâ”€â”€ tsconfig.json          # TypeScript setup
    â””â”€â”€ node_modules/          # Clean dependencies
```

## ğŸ¯ Usage Patterns

### Development Mode

```bash
# Launch specific app
cd ~/Documents/RinaWarp-Phone-Manager && npm run dev

# Launch web app with preview
cd ~/Documents/RinaWarp-Music-Video-Creator && npm run preview
```

### Production Launch

```bash
# Run standalone AppImage
cd ~/Documents/RinaWarp-Phone-Manager
./dist/RinaWarp-Phone-Manager-*.AppImage

# Launch all apps via unified script
./rinawarp-launcher.sh
```

### Manual AppImage Launch

```bash
# Make executable and run
cd ~/Documents/RinaWarp-Phone-Manager/dist
chmod +x *.AppImage
./RinaWarp-Phone-Manager-*.AppImage
```

## ğŸ”„ Re-running Migration

The migration script is **idempotent** - you can run it multiple times safely:

```bash
# Clean slate migration (removes previous builds)
./migrate-rinawarp-projects.sh

# Re-run launcher after migration
./rinawarp-launcher.sh
```

## ğŸš« Shutting Down Apps

### Via Script

```bash
# Kill all Electron processes
pkill -f electron || true

# Kill all Vite processes
pkill -f vite || true
```

### Via Manual Process Management

```bash
# List running apps
ps aux | grep -E "(electron|vite)" | grep -v grep

# Kill specific process
kill -9 <PID>
```

## âš ï¸ Troubleshooting

### Common Issues

**1. Missing Source Directory**

```
âš ï¸ Skipping RinaWarp Phone Manager â€” source not found.
```

- Check if source exists in monorepo
- Verify paths in migration script


**2. npm install Fails**

```
âš ï¸ npm install skipped (offline).
```

- Check internet connection
- Verify npm registry access
- Run `npm install` manually in target directory


**3. AppImage Not Generated**

```
âš ï¸ AppImage not found, but packaging likely completed.
```

- Check electron-builder installation
- Verify build configuration
- Manually run `npm run package`


**4. Launcher Fails**

```
âŒ Missing: ~/Documents/RinaWarp-Phone-Manager
```

- Run migration script first
- Check directory permissions
- Verify migration completed successfully


## ğŸ”§ Advanced Configuration

### Custom TypeScript Settings

Edit the TypeScript configuration blocks in `migrate-rinawarp-projects.sh` to modify:

- Target JavaScript version
- Module system (CommonJS vs ESNext)
- Type checking strictness
- Output directory structure


### Electron Builder Options

Modify the `package.json` `build` section to configure:

- Target platforms (Linux, Windows, macOS)
- App signing and notarization
- Custom icons and metadata
- Compression and packaging options


### Vite Configuration

For the Music Video Creator, add custom Vite config:

```javascript
// vite.config.js
export default {
  plugins: [
    /* your plugins */
  ],
  server: {
    port: 5173,
    host: true,
  },
  build: {
    outDir: 'dist',
  },
};
```

## ğŸ“ˆ Performance Notes

### Build Times

- **Electron Apps**: ~2-5 minutes each (includes packaging)
- **Web App**: ~30 seconds (development server)
- **Full Migration**: ~8-15 minutes total


### Resource Usage

- **Memory**: ~200-500MB per app during development
- **Disk**: ~50-100MB per project (dependencies + builds)
- **Network**: Initial npm install only


## ğŸ›¡ï¸ Security Considerations

### Production Deployment

- AppImages are self-contained and portable
- No system-wide installation required
- Each app runs in isolated Electron context
- Web app served via Vite development server (dev only)


### Code Signing

For production distribution, consider:

- Linux AppImage signing
- macOS code signing and notarization
- Windows code signing certificates


## ğŸ“ License & Attribution

These migration scripts are part of the RinaWarp ecosystem and maintain the original project licenses and attributions.

---

**Created**: 2025-10-29  
**Version**: 1.0.0  
**Compatibility**: Linux (primary), macOS, Windows (with WSL)
