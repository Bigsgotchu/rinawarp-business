#!/bin/bash

# üö® CLOUDFLARE DOMAIN COLLISION FIX SCRIPT
# This script provides the exact steps to fix the domain collision issue

echo "üö® CLOUDFLARE DOMAIN COLLISION FIX"
echo "=================================="
echo ""
echo "PROBLEM IDENTIFIED:"
echo "- rinawarp-stripe-worker has rinawarptech.com attached (WRONG)"
echo "- rinawarptech project has NO domain attached (CORRECT PROJECT)"
echo ""
echo "üéØ SOLUTION: Move domain from Stripe Worker to Website Project"
echo ""
echo "MANUAL STEPS TO FOLLOW:"
echo ""
echo "1Ô∏è‚É£  REMOVE DOMAIN FROM STRIPE WORKER:"
echo "   ‚Ä¢ Go to: https://dash.cloudflare.com/pages"
echo "   ‚Ä¢ Click: 'rinawarp-stripe-worker' project"
echo "   ‚Ä¢ Go to: 'Custom domains' tab"
echo "   ‚Ä¢ Click: 'rinawarptech.com'"
echo "   ‚Ä¢ Click: 'Remove domain'"
echo "   ‚Ä¢ Confirm removal"
echo ""
echo "2Ô∏è‚É£  ATTACH DOMAIN TO WEBSITE PROJECT:"
echo "   ‚Ä¢ Click: 'rinawarptech' project (the website)"
echo "   ‚Ä¢ Go to: 'Custom domains' tab"
echo "   ‚Ä¢ Click: 'Set up a custom domain'"
echo "   ‚Ä¢ Enter: 'rinawarptech.com'"
echo "   ‚Ä¢ Click: 'Continue'"
echo "   ‚Ä¢ Wait for DNS verification"
echo ""
echo "3Ô∏è‚É£  CLEAR CACHES:"
echo "   ‚Ä¢ Go to: https://dash.cloudflare.com/caching"
echo "   ‚Ä¢ Click: 'Configuration' tab"
echo "   ‚Ä¢ Click: 'Purge Everything'"
echo "   ‚Ä¢ Confirm purge"
echo ""
echo "‚úÖ VERIFICATION (after 10-15 minutes):"
echo "   ‚Ä¢ Visit: https://rinawarptech.com"
echo "   ‚Ä¢ Should show your actual website (not Stripe Worker code)"
echo "   ‚Ä¢ New deployments should appear immediately"
echo ""
echo "üîß THIS FIXES:"
echo "   ‚Ä¢ Changes not appearing"
echo "   ‚Ä¢ Cache headers not updating"
echo "   ‚Ä¢ Old designs reappearing"
echo "   ‚Ä¢ _headers file not being served"
echo ""
echo "‚ö†Ô∏è  IMPORTANT: Don't delete rinawarp-stripe-worker, just remove the main domain!"
echo "    It should only serve /api/* routes, not the main website."